{
 "espireDate": "N",
 "format": "java",
 "jSonReasons": [
  "re_java",
  "lg_en"
 ],
 "key": "QAXDwSvm",
 "pasteDate": "Feb 12, 2018, 8:06:12 AM",
 "relevancy": -2.0,
 "relevant": false,
 "text": "/* A SIMPLE MP3 PLAYER THAT HAS 1 BUTTON WITH LONG AND SHORT HOLD. LONG HOLD WILL ASK USER TO CHOOSE AUDIO FILE WHILE THE SHORT HOLD PLAYS IT. PROBLEM:THE LAST AUDIO FILE CHOOSEN IS NOT SAVED. AUDIO FILE IS LOST ONCE THE APP IS TERMINATED AND USER WILL HAVE TO CHOOSE AGAIN.\n\npackage stalwart.team.yuhuu.easymusic;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.media.AudioManager;\nimport android.media.MediaPlayer;\nimport android.net.Uri;\nimport android.provider.MediaStore;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final int PICK_AUDIO = 1;\n    SharedPreferences myprefs;\n    private String text;\n    MediaPlayer mp;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        Button playMe1 = (Button) findViewById(R.id.playMe1);\n        playMe1.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View view) {\n                Intent intent = new Intent();\n                intent.setType(\"audio/*\");\n                intent.setAction(Intent.ACTION_GET_CONTENT);\n                startActivityForResult(intent, PICK_AUDIO);\n                return true;\n            }\n        });\n\n    }//onCreate\n\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == PICK_AUDIO) {\n\n            if (resultCode == RESULT_OK) {\n                if (requestCode == PICK_AUDIO && resultCode == Activity.RESULT_OK) {\n\n                    final MediaPlayer mp = new MediaPlayer();\n                    mp.reset();\n                    Uri uri = data.getData();\n                    String uriS=data.getDataString();\n                    /*String uriS = data.getData().toString();\n                    SharedPreferences.Editor editor = myprefs.edit();\n                    editor.putString(\"keyname\", uriS);\n                    editor.commit();*/\n                    try {\n                        mp.setDataSource(this,uri);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                    mp.prepareAsync();\n\n                    final View playMe1 = findViewById(R.id.playMe1);\n                    playMe1.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View v) {\n                            if (mp.isPlaying()) {\n                                mp.pause();\n                            } else {\n                                mp.start();\n                            }\n                        }\n                    });\n\n                }\n            }\n        }\n    }\n}//class",
 "title": ""
}
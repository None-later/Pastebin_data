{
 "espireDate": "N",
 "format": "text",
 "jSonReasons": [
  "lg_en",
  "kw_attack",
  "re_ast1"
 ],
 "key": "Wd59xmRs",
 "pasteDate": "Feb 11, 2018, 4:53:12 PM",
 "relevancy": -2.0,
 "relevant": false,
 "text": "--\n-- Created by IntelliJ IDEA.\n-- User: milerius\n-- Date: 23/01/18\n-- Time: 11:02\n-- To change this template use File | Settings | File Templates.\n--\n\nx = 1;\ny = 2;\nw = 1;\nh = 2;\nwinWidth = 1920;\nwinHeight = 1080;\n\nhp = 0;\nattack = 0;\ndefense = 0;\nspeed = 0;\nshield = 0;\n\nhp_ori = 0;\nattack_ori = 0;\ndefense_ori = 0;\nspeed_ori = 0;\nshield_ori = 0;\n\nforced_move = false;\nnb_move = 40;\n\nfunction internal_init(meID, hp_, attack_, defense_, speed_, shield_)\n    hp = hp_;\n    attack = attack_;\n    defense = defense_;\n    speed = speed_;\n    shield = shield_;\n\n    hp_ori = hp_;\n    attack_ori = attack_;\n    defense_ori = defense_;\n    speed_ori = speed_;\n    shield_ori = shield_;\nend\n\nfunction internal_moveRight(playerID, timeSinceLastFrame)\n    local ettPlayer = getEntity(playerID);\n    local box = ettPlayer:getBoundingBoxComponent();\n    local anim = ettPlayer:getAnimationComponent();\n    local playerPos = box:getPos();\n    local relativePos = box:getRelativePos();\n    local playerSize = box:getSize();\n    local limitX = (winWidth - playerSize[w]);\n    if playerPos[x] <= limitX\n    then\n        box:setPosition(playerPos[x] + (speed * timeSinceLastFrame), playerPos[y]);\n        anim:setPosition(playerPos[x] - relativePos[x], playerPos[y] - relativePos[y]);\n        quadMove(playerID);\n    end\nend\n\nfunction internal_moveLeft(playerID, timeSinceLastFrame)\n    local ettPlayer = getEntity(playerID);\n    local box = ettPlayer:getBoundingBoxComponent();\n    local anim = ettPlayer:getAnimationComponent();\n    local playerPos = box:getPos();\n    local relativePos = box:getRelativePos();\n    if playerPos[x] >= 0\n    then\n        box:setPosition(playerPos[x] - (speed * timeSinceLastFrame), playerPos[y]);\n        anim:setPosition(playerPos[x] - relativePos[x], playerPos[y] - relativePos[y]);\n        quadMove(playerID);\n    end\nend\n\nfunction internal_moveUp(playerID, timeSinceLastFrame)\n    local ettPlayer = getEntity(playerID);\n    local box = ettPlayer:getBoundingBoxComponent();\n    local anim = ettPlayer:getAnimationComponent();\n    local playerPos = box:getPos();\n    local relativePos = box:getRelativePos();\n    if playerPos[y] >= 0\n    then\n        box:setPosition(playerPos[x], playerPos[y] - (speed * timeSinceLastFrame));\n        anim:setPosition(playerPos[x] - relativePos[x], playerPos[y] - relativePos[y]);\n        quadMove(playerID);\n    end\nend\n\nfunction internal_moveDown(playerID, timeSinceLastFrame)\n    local ettPlayer = getEntity(playerID);\n    local box = ettPlayer:getBoundingBoxComponent();\n    local anim = ettPlayer:getAnimationComponent();\n    local playerPos = box:getPos();\n    local relativePos = box:getRelativePos();\n    local playerSize = box:getSize();\n    local limitY = (winHeight - playerSize[h]);\n    if playerPos[y] <= limitY\n    then\n        box:setPosition(playerPos[x], playerPos[y] + (speed * timeSinceLastFrame));\n        anim:setPosition(playerPos[x] - relativePos[x], playerPos[y] - relativePos[y]);\n        quadMove(playerID);\n    end\nend\n\nfunction internal_collide(meID, collideID)\n    speed = -1500;\n    forced_move = true;\n    nb_move = 7;\n    hp = hp - (0.07 * getEntity(collideID):getStatComponent().attack) - getEntity(meID):getStatComponent().defense;\nend\n\nfunction internal_update(meID, timeSinceLastFrame)\n    if forced_move then\n        if nb_move == 0 then\n            speed = speed_ori;\n        else\n            nb_move = nb_move - 1;\n        end\n    end\n    print(\"hp : \", hp);\nend\n\nplayerTable = {\n    init=internal_init;\n    onCollide = internal_collide;\n    update = internal_update;\n    moveUp = internal_moveUp;\n    moveDown = internal_moveDown;\n    moveLeft = internal_moveLeft;\n    moveRight = internal_moveRight;\n}",
 "title": ""
}
{
 "espireDate": "N",
 "format": "cpp",
 "jSonReasons": [
  "lg_en"
 ],
 "key": "9efDx1gw",
 "pasteDate": "Feb 26, 2018, 1:20:02 AM",
 "relevancy": 1.0,
 "relevant": false,
 "text": "// Trigger: M_CLICK (MID BALL)\n//--------------------------------------------------------------------------------------------------\nbool gt_M_CLICKMIDBALL_Func (bool testConds, bool runActions) {\n    // Variable Declarations\n    int lv_playerID;\n    fixed lv_angle_Output;\n    fixed lv_angle_Between;\n    fixed lv_distance;\n    fixed lv_height;\n    actor lv_upliftFX;\n\n    // Automatic Variable Declarations\n    playergroup autoF58F2781_g;\n    int autoF58F2781_var;\n    playergroup auto178CD332_g;\n    int auto178CD332_var;\n    playergroup autoA8F3FF9D_g;\n    int autoA8F3FF9D_var;\n\n    // Variable Initialization\n    lv_playerID = EventPlayer();\n    lv_angle_Output = UnitGetFacing(gv_gvar_controls.lv_p_Unit[lv_playerID]);\n    lv_angle_Between = AngleBetweenPoints(UnitGetPosition(gv_gvar_controls.lv_p_Unit[lv_playerID]), UnitGetPosition(UnitFromId(729230618)));\n    lv_distance = DistanceBetweenPoints(UnitGetPosition(gv_gvar_controls.lv_p_Unit[lv_playerID]), UnitGetPosition(UnitFromId(729230618)));\n\n    // Conditions\n    if (testConds) {\n        if (!((lv_distance <= 2.0))) {\n            return false;\n        }\n\n        if (!((TriggerIsEnabled(TriggerGetCurrent()) == true))) {\n            return false;\n        }\n    }\n\n    // Actions\n    if (!runActions) {\n        return true;\n    }\n\n    TriggerEnable(TriggerGetCurrent(), false);\n    gv_gvar_controls.lv_p_HITBALL[lv_playerID] = true;\n    UnitBehaviorAdd(UnitFromId(729230618), \"BallVelocitySlow\", UnitFromId(729230618), 1);\n    libNtve_gf_CreateModelAtPoint(\"GameStartBallUplift\", PointFromId(173491416));\n    lv_upliftFX = libNtve_gf_ActorLastCreatedSend();\n    if ((lv_distance <= 1.25)) {\n        lv_height = 1.0;\n        gf_HIT_LATE(gv_gvar_controls.lv_p_Unit[lv_playerID], lv_angle_Between, lv_angle_Output, lv_distance);\n    }\n    else if ((lv_distance <= 1.6)) {\n        lv_height = 1.0;\n        gf_HIT_PERFECT(gv_gvar_controls.lv_p_Unit[lv_playerID], lv_angle_Between, lv_angle_Output, lv_distance);\n    }\n    else if ((lv_distance <= 2.0)) {\n        lv_height = 1.0;\n        gf_HIT_EARLY(gv_gvar_controls.lv_p_Unit[lv_playerID], lv_angle_Between, lv_angle_Output, lv_distance);\n    }\n    libNtve_gf_PauseUnit(UnitFromId(729230618), false);\n    Wait(0.0, c_timeGame);\n    UnitSetHeight(UnitFromId(729230618), lv_height, 0.35);\n    Wait(0.35, c_timeGame);\n    UnitSetHeight(UnitFromId(729230618), (lv_height * 0.25), 0.25);\n    UnitBehaviorRemove(UnitFromId(729230618), \"BallVelocitySlow\", 1);\n    Wait(0.125, c_timeGame);\n    TriggerEnable(gt_M_CLICK, true);\n    TriggerEnable(gt_BALL_PIMPACT, true);\n    TriggerEnable(gt_BALL_SLOW, true);\n    TriggerEnable(gt_BALL_SPEEDUP, true);\n    TriggerEnable(gt_BALL_REGIONSENTER, true);\n    autoF58F2781_g = PlayerGroupActive();\n    autoF58F2781_var = -1;\n    while (true) {\n        autoF58F2781_var = PlayerGroupNextPlayer(autoF58F2781_g, autoF58F2781_var);\n        if (autoF58F2781_var < 0) { break; }\n        UnitBehaviorRemove(gv_gvar_controls.lv_p_Unit[autoF58F2781_var], \"GameStartPlayerSpeed\", 1);\n    }\n    if ((libNtve_gf_UnitInRegion(UnitFromId(729230618), RegionFromId(4)) == true)) {\n        auto178CD332_g = gv_greenTeam;\n        auto178CD332_var = -1;\n        while (true) {\n            auto178CD332_var = PlayerGroupNextPlayer(auto178CD332_g, auto178CD332_var);\n            if (auto178CD332_var < 0) { break; }\n            if ((DistanceBetweenPoints(UnitGetPosition(gv_gvar_controls.lv_p_Unit[auto178CD332_var]), UnitGetPosition(UnitFromId(729230618))) <= 2.0) && (UnitIsAlive(gv_gvar_controls.lv_p_Unit[auto178CD332_var]) == true)) {\n                ActorSend(gv_gvar_interface.lv_aimArrow[auto178CD332_var], \"SetTintColor {0,128,255 2.000000}\");\n                ActorSend(gv_gvar_interface.lv_aimArrow[auto178CD332_var], \"SetScale 1.000000 0.075000\");\n                GameSetSpeedValue(c_gameSpeedSlow);\n            }\n            gv_gvar_controls.lv_p_HITBALL[auto178CD332_var] = false;\n        }\n    }\n    else if ((libNtve_gf_UnitInRegion(UnitFromId(729230618), RegionFromId(3)) == true)) {\n        autoA8F3FF9D_g = gv_purpleTeam;\n        autoA8F3FF9D_var = -1;\n        while (true) {\n            autoA8F3FF9D_var = PlayerGroupNextPlayer(autoA8F3FF9D_g, autoA8F3FF9D_var);\n            if (autoA8F3FF9D_var < 0) { break; }\n            if ((DistanceBetweenPoints(UnitGetPosition(gv_gvar_controls.lv_p_Unit[autoA8F3FF9D_var]), UnitGetPosition(UnitFromId(729230618))) <= 2.0) && (UnitIsAlive(gv_gvar_controls.lv_p_Unit[autoA8F3FF9D_var]) == true)) {\n                ActorSend(gv_gvar_interface.lv_aimArrow[autoA8F3FF9D_var], \"SetTintColor {0,128,255 2.000000}\");\n                ActorSend(gv_gvar_interface.lv_aimArrow[autoA8F3FF9D_var], \"SetScale 1.000000 0.075000\");\n                GameSetSpeedValue(c_gameSpeedSlow);\n            }\n            gv_gvar_controls.lv_p_HITBALL[autoA8F3FF9D_var] = false;\n        }\n    }\n    Wait(0.125, c_timeGame);\n    UnitSetHeight(UnitFromId(729230618), 0.2, 0.25);\n    Wait(0.35, c_timeGame);\n    libNtve_gf_KillModel(lv_upliftFX);\n    TriggerEnable(gt_BALL_PIMPACT, true);\n    return true;\n}",
 "title": ""
}
{
 "espireDate": "1H",
 "format": "text",
 "jSonReasons": [
  "lg_da"
 ],
 "key": "tYwb7pNy",
 "pasteDate": "Feb 26, 2018, 10:25:18 AM",
 "relevancy": 0.0,
 "relevant": false,
 "text": ";**** FIL OPLYSNINGER ******************************************************************\n;\tFil:\t\tLAB5_1.asm\n;   Dato:\t\t8.September 2014\n;\tForfatter:\tIb Refer\n;\tRedigeret:\tSteen Heide\n; ****** BESKRIVELSE **********************************************************************\n;\tdette program anvender SDUboard.lib til at skrive til vores display\n;\tDer skrives i frste omgang tekster (strings) ud til displayet\n; ****** UDVIDELSER ***********************************************************************\n;\tUdvidelser:\n;\t\t\t1:\tdu skal ndre teksterne   \n; ****** Anvendte kommandoer **************************************************************\n;\t\tString er en kommando, der er konstrueret som en macro i SDUboard.lib,  \n;\t\tden anbringer tegnene p hver sin memmory adresse s vi senere ved hjlp af \n;\t\tstrengens navn (msg) kan f skrevet strengens tegn ud p vores display\n;\t\tLCDstr er en kommando, der er konstrueret som en macro i SDUboard.lib\n;\t\tDen udskriver indholdet i en navngivet (msg) streng efter hinanden p displayet\n; ******* PROCESSOR DEFINITIONER **********************************************************\n\tprocessor\t16f877a\t\t\t\t\t;Sets processor\n\t#include \tp16f877a.inc\n;\terrorlevel -302\t\t\t\t\t;fjerner meddelser om forkerte banker fra fejl listen\n;\terrorlevel -305\t\t\t\t\t;fjerner meddelser om forkerte banker fra fejl listen\n; ******* COMPILER configuration bits *****************************************************\n\t__config\t_HS_OSC & _PWRTE_OFF & _WDT_OFF & _CP_OFF & _CPD_OFF & _LVP_OFF\n; ******* DEFFINITION AF VARIABLE *********************************************************\n\t#include\t\"SDUboard.var\"\t\t;Variable som bruges af SDUboard 0x79 - 0x7F)\n\t\t\t\t\t\t\t\t\t;INDST DINE VARIABLE HER (start med 0x20)\n; ******* OPSTNING AF PROGRAM POINTERE ***************************************************\n\t\t\torg\t\t0x0000\t\t\t;Programstart efter et reset\n\t\t\tGOTO\tinit\t\t\t\t;G til opstning\n\t\t\torg\t\t0x0005\t\t\t;Frste position efter interrupt-vektor\n\t\t        KEY equ 0x26\n \n\t\t\tKEY1 equ 0x27\n\t\t\tKEY2 equ 0x28\n\t\t\tKEY3 equ 0x30\n\t\t\tKEY4 equ 0x31\n\t\t\tPassKey1 equ\t0x32\n\t\t\tPassKey2 equ\t0x33\n\t\t\tPassKey3 equ\t0x34\n\t\t\tPassKey4 equ\t0x35\n; ******* INCLUDEREDE FILER ***************************************************************\n\t#Include \t\"SDUboard.lib\"\t\t; SDU PICborad subroutine bibliotek.\n; ******* OPSTNING AF TEKST STRENGE ******************************************************\nmsg\t\tstring\t\"Eksamensprojekt\"\nmsg1\t\tstring\t\"i elteknik A\"\n; ******* INITIALISERING AF PROGRAM   *****************************************************\ninit\t\tCALL   \tLCD_Init  \t\t; Initialiser LCD og indst DK-bogstaver ()\t\n\t\t\n\t    \n\t\t\n\t\t   ; MOVLW d'0'\n\t\t   ; MOVWF ADCON0\n\t\t    \n\t\t    MOVLW d'7'\n\t\t    MOVWF CMCON0\n\t\t    \n\t\t    BCF STATUS,RP1  ; GR TIL BANK 1 }\n\t\t    BSF STATUS,RP0  ; GR TIL BANK 1 }\n\t\t    \n\t\t    \n\t\t    MOVLW d'0'\n\t\t    MOVWF TRISB\n\t\t   \n\t\t    MOVLW b'11111111'\n\t\t    MOVWF PORTB\n\t\t    \n\t\t    \n\t\t    \n\t\t    \n\t\t    BCF STATUS,RP1  ; GR TIL BANK 0 }\n\t\t    BCF STATUS,RP0  ; GR TIL BANK 0 }\n\t\t    \n\t\t\n\t\t\t\t\n\t\n\t\n\t\t\tLCDstr \tmsg \t\t\t;Udskriv msg strengen.\n\t\t\tMOVLW \tLCDLine2 \t\t;g til linie 2 pos 0\n\t\t\tCALL \tLCD_Reg\t\t\t;p LCD-displayet\n\t\t\tLCDstr \tmsg1 \t\t\t;Udskriv msg strengen.\n; ******* HOVEDPROGRAM ********************************************************************\nmain\t\t\n\t\t\t\n\t\t\tMOVF\tKEY4,0\n\t\t\tIORWF\tb'00000000'\n\t\t\tBTFSS\tSTATUS,Z\n\t\t\tCALL\tKodeCheck\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tBSF PORTB,4 ; Output0\n\t\t\tBSF PORTB,5 ; Output1\n\t\t\tBSF PORTB,6 ; Output2\n\t\t\n\t\t\tBTFSC PORTB,0 ; Input 0\n\t\t\tGOTO  Row1\n\t\t\t\n\t\t\tBTFSC PORTB,1 ; Input 1\n\t\t\tGOTO  Row2\n\t\t\t\n\t\t\tBTFSC PORTB,2 ; Input 2\n\t\t\tGOTO  Row3\n\t\t\t\n\t\t\tBTFSC PORTB,3 ; Input 3\n\t\t\tGOTO  Row4\n\t\t\t \n\t\t\t \n\t\t\t \n\t\t\tGOTO main\n\t\t\t\n Row1   \n\t\t\tBSF PORTB,4\n\t\t\tBCF PORTB,5\n\t\t\tBCF PORTB,6\n\t\t\tBTFSC PORTB,0\n\t\t\tGOTO Key1Pressed\n\n\t\t\tBCF PORTB,4\n\t\t\tBSF PORTB,5\n\t\t\tBCF PORTB,6\n\t\t\tBTFSC PORTB,0\n\t\t\tGOTO Key2Pressed\n\t\t\t\n\t\t\tBCF PORTB,4\n\t\t\tBCF PORTB,5\n\t\t\tBSF PORTB,6\n\t\t\tBTFSC PORTB,0\n\t\t\tGOTO Key3Pressed\n\nRow2\n\t\tBSF PORTB,4\n\t\tBCF PORTB,5\n\t\tBCF PORTB,6\n\t\tBTFSC PORTB,1\n\t\tGOTO Key4Pressed\n\t\t\n\t\tBCF PORTB,4\n\t\tBSF PORTB,5\n\t\tBCF PORTB,6\n\t\tBTFSC PORTB,1\n\t\tGOTO Key5Pressed\n\n\t\tBCF PORTB,4\n\t\tBCF PORTB,5\n\t\tBSF PORTB,6\n\t\tBTFSC PORTB,1\n\t\tGOTO Key6Pressed\n\t\t\nRow3\n\t\t\tBSF PORTB,4\n\t\t\tBCF PORTB,5\n\t\t\tBCF PORTB,6\n\t\t\tBTFSC PORTB,2\n\t\t\tGOTO Key7Pressed\n\n\t\t\tBCF PORTB,4\n\t\t\tBSF PORTB,5\n\t\t\tBCF PORTB,6\n\t\t\tBTFSC PORTB,2\n\t\t\tGOTO Key8Pressed\n\n\t\t\tBCF PORTB,4\n\t\t\tBCF PORTB,5\n\t\t\tBSF PORTB,6\n\t\t\tBTFSC PORTB,2\n\t\t\tGOTO Key9Pressed\n\t\t\nRow4\n\t\t\tBSF PORTB,4\n\t\t\tBCF PORTB,5\n\t\t\tBCF PORTB,6\n\t\t\tBTFSC PORTB,3\n\t\t\tGOTO Key10Pressed\n\n\t\t\tBCF PORTB,4\n\t\t\tBSF PORTB,5\n\t\t\tBCF PORTB,6\n\t\t\tBTFSC PORTB,3\n\t\t\tGOTO Key11Pressed\n\n\t\t\tBCF PORTB,4\n\t\t\tBCF PORTB,5\n\t\t\tBSF PORTB,6\n\t\t\tBTFSC PORTB,3\n\t\t\tGOTO Key12Pressed\n\n\nKey1Pressed\n\t\tMOVLW d'1'\n\t        MOVWF KEY\n\t\tCALL KeyLogger\n\t\tGOTO main\n\nKey2Pressed\n\t\tMOVLW d'2'\n\t        MOVWF KEY\n\t\tCALL KeyLogger\n\t\tGOTO main\n\nKey3Pressed\n\t\tMOVLW d'3'\n\t        MOVWF KEY\n\t\tCALL KeyLogger\n\t\tGOTO main\nKey4Pressed\n\t\tMOVLW d'4'\n\t        MOVWF KEY\n\t\tCALL KeyLogger\n\t\tGOTO main\nKey5Pressed\n\t\tMOVLW d'5'\n\t        MOVWF KEY\n\t\tCALL KeyLogger\n\t\tGOTO main\nKey6Pressed\n\t\tMOVLW d'6'\n\t        MOVWF KEY\n\t\tCALL KeyLogger\n\t\tGOTO main\nKey7Pressed\n\t\tMOVLW d'7'\n\t        MOVWF KEY\n\t\tCALL KeyLogger\n\t\tGOTO main\nKey8Pressed\n\t\tMOVLW d'8'\n\t        MOVWF KEY\n\t\tCALL KeyLogger\n\t\tGOTO main\nKey9Pressed\n\t\tMOVLW d'9'\n\t        MOVWF KEY\n\t\tCALL KeyLogger\n\t\tGOTO main\nKey10Pressed\n\t\tMOVLW d'10'\n\t        MOVWF KEY\n\t\tCALL KeyLogger\n\t\tGOTO main\nKey11Pressed\n\t\tMOVLW d'11'\n\t        MOVWF KEY\n\t\tCALL KeyLogger\n\t\tGOTO main\nKey12Pressed\n\t\tMOVLW d'12'\n\t        MOVWF KEY\n\t\tCALL KeyLogger\n\t\tGOTO main\n\nKeyLogger\n\t\tMOVF KEY3,0\n\t\tMOVWF KEY4\n\t\tMOVF KEY2,0\n\t\tMOVWF KEY3\n\t\tMOVF KEY1,0\n\t\tMOVWF KEY2\n\t\t\n\n\t\t\n\t\tMOVF KEY,0\n\t\tMOVWF\tKEY1\n\t\tRETURN\nKodeCheck\n\t\tMOVF KEY1,0\n\t\tXORWF\tPassKey1\n\t\tBTFSS STATUS,Z\n\t\tgoto\t\"Forkert\"\n\t\t\n\t\tMOVF KEY2,0\n\t\tXORWF\tPassKey2\n\t\tBTFSS STATUS,Z\n\t\tgoto\t\"Forkert\"\n\t\t\n\t\tMOVF KEY3,0\n\t\tXORWF\tPassKey3\n\t\tBTFSS STATUS,Z\n\t\tgoto\t\"Forkert\"\n\t\t\n\t\tMOVF KEY4,0\n\t\tXORWF\tPassKey4\n\t\tBTFSS STATUS,Z\n\t\tgoto\t\"Forkert\"\n\t\tgoto\tRigtig\n\t\t\nRigtig\n\t\t;BSF GRN LED\n\t\t;BSF RIGTIG LYD\n\t\tCALL\tClearKey\n\t\treturn\nForkert\n\t\t;BSF RD LED\n\t\t;BSF FORKERT LYD\n\t\tCALL\tClearKey\n\t\treturn\nClearKey\n\t\tMOVLW d'0'\n\t\tMOVWF KEY1\n\t\t\n\t\tMOVLW d'0'\n\t\tMOVWF KEY2\n\t\t\n\t\tMOVLW d'0'\n\t\tMOVWF KEY3\n\t\t\n\t\tMOVLW d'0'\n\t\tMOVWF KEY4\n\t\treturn\n; ******* PROGRAM AFSLUTTET ***************************************************************\t\t\n\t\t\tEND\t\t\t\t\t\t;her slutter programmet...",
 "title": ""
}
{
 "espireDate": "N",
 "format": "java",
 "jSonReasons": [
  "re_java",
  "lg_en"
 ],
 "key": "PBhhiDRt",
 "pasteDate": "Feb 12, 2018, 3:50:05 PM",
 "relevancy": -2.0,
 "relevant": false,
 "text": "package stalwart.team.yuhuu.easymusic;\n\n        import android.app.Activity;\n        import android.content.Context;\n        import android.content.Intent;\n        import android.content.SharedPreferences;\n        import android.media.MediaPlayer;\n        import android.net.Uri;\n        import android.provider.MediaStore;\n        import android.support.v7.app.AppCompatActivity;\n        import android.os.Bundle;\n        import android.util.Log;\n        import android.view.View;\n        import android.widget.Button;\n        import android.widget.ImageView;\n        import android.widget.Toast;\n\n        import java.io.File;\n        import java.io.IOException;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final int PICK_AUDIO = 1;\n    SharedPreferences sharedpreferences;\n    public static final String mypreference = \"mypref\";\n    public static final String Audio = \"audioKey\";\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        \n        sharedpreferences = getSharedPreferences(mypreference, Context.MODE_PRIVATE);\n        if (sharedpreferences.contains(mypreference)) {\n            try {\n                mp.setDataSource(sharedpreferences.getString(mypreference, \"\"));\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        Button playMe1 = (Button) findViewById(R.id.playMe1);\n        playMe1.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View view) {\n                Intent intent = new Intent();\n                intent.setType(\"audio/*\");\n                intent.setAction(Intent.ACTION_GET_CONTENT);\n                startActivityForResult(intent, PICK_AUDIO);\n                return true;\n            }\n        });\n\n    }//onCreate\n\n    final MediaPlayer mp = new MediaPlayer();\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if(requestCode ==PICK_AUDIO){\n\n            if(resultCode == RESULT_OK){\n                if (requestCode == PICK_AUDIO && resultCode == Activity.RESULT_OK){\n\n                    final MediaPlayer mp = new MediaPlayer();\n                    Uri uri = data.getData();\n                    String uriS=uri.toString();\n                    mp.reset();\n\n                    SharedPreferences.Editor editor = sharedpreferences.edit();\n                    editor.putString(mypreference, uriS);\n                    editor.commit();\n\n                    final View playMe1 = findViewById(R.id.playMe1);\n                    playMe1.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View v) {\n                            if (sharedpreferences.contains(mypreference)) {\n                                try {\n                                    mp.setDataSource(sharedpreferences.getString(mypreference, \"\"));\n                                } catch (IOException e) {\n                                    e.printStackTrace();\n                                }\n                            }\n                            mp.prepareAsync();\n                            mp.start();\n                            if(mp.isPlaying()){\n                                mp.pause();\n                            }else{\n                                mp.start();\n                            }\n                        }\n                    });\n                }\n            }\n        }\n    }\n}//class",
 "title": ""
}
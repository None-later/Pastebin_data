{
 "espireDate": "N",
 "format": "text",
 "jSonReasons": [
  "kw_password",
  "lg_en",
  "kw_ssl"
 ],
 "key": "2WFzUQB1",
 "pasteDate": "Feb 20, 2018, 1:46:01 PM",
 "relevancy": 2.0,
 "relevant": false,
 "text": "[root@centos7 pam.d]# rpm -qa|grep ldap\nnss-pam-ldapd-0.8.13-8.el7.x86_64\nopenldap-2.4.44-5.el7.x86_64\nopenldap-clients-2.4.44-5.el7.x86_64\n\t\nuid nslcd\ngid ldap\n\nuri ldap://<my_ldap_server_ip>\n\nbase dc=company,dc=org\n\nbinddn cn=proxy,ou=users,dc=company,dc=org\nbindpw <bind_pw>\n\nnss_initgroups_ignoreusers root,nslcd\nnss_min_uid 10000\n\nfilter passwd (objectClass=posixAccount)\nbase passwd ou=users,dc=company,dc=org\nbase shadow ou=users,dc=company,dc=org\nbase group ou=groups,dc=company,dc=org\nscope passwd one\nscope shadow one\nscope group one\n\nmap group member uniqueMember\n\nssl start_tls\nTLS_REQCERT allow\ntls_cacertdir /etc/openldap/cacerts\n\t\n. . .\npasswd:     files sss ldap\nshadow:     files sss ldap\ngroup:      files sss ldap\n. . .\n\t\n[root@centos7 pam.d]# ls -lah password-auth system-auth\nlrwxrwxrwx. 1 root root 16 Aug 22 18:53 password-auth -> password-auth-ac\nlrwxrwxrwx. 1 root root 14 Aug 22 18:53 system-auth -> system-auth-ac\n\t\n#%PAM-1.0\n# This file is auto-generated.\n# User changes will be destroyed the next time authconfig is run.\nauth        required      pam_env.so\nauth        required      pam_faildelay.so delay=2000000\nauth        sufficient    pam_unix.so nullok try_first_pass\nauth        requisite     pam_succeed_if.so uid >= 1000 quiet_success\nauth        sufficient    pam_ldap.so use_first_pass\nauth        required      pam_deny.so\n\naccount     required      pam_unix.so broken_shadow\naccount     sufficient    pam_localuser.so\naccount     sufficient    pam_succeed_if.so uid < 1000 quiet\naccount     [default=bad success=ok user_unknown=ignore] pam_ldap.so\naccount     required      pam_permit.so\npassword    required      pam_deny.so\n\npassword    requisite     pam_pwquality.so try_first_pass local_users_only retry=3 authtok_type=\npassword    sufficient    pam_unix.so md5 shadow nullok try_first_pass use_authtok\npassword    sufficient    pam_ldap.so use_authtok\npassword    required      pam_deny.so\n\nsession     optional      pam_keyinit.so revoke\nsession     required      pam_limits.so\n-session     optional      pam_systemd.so\nsession     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid\nsession     required      pam_unix.so\nsession     optional      pam_ldap.so\npassword    required      pam_deny.so\n\t\n#%PAM-1.0\n# This file is auto-generated.\n# User changes will be destroyed the next time authconfig is run.\nauth        required      pam_env.so\nauth        required      pam_faildelay.so delay=2000000\nauth        sufficient    pam_unix.so nullok try_first_pass\nauth        requisite     pam_succeed_if.so uid >= 1000 quiet_success\nauth        sufficient    pam_ldap.so use_first_pass\nauth        required      pam_deny.so\n\naccount     required      pam_unix.so broken_shadow\naccount     sufficient    pam_localuser.so\naccount     sufficient    pam_succeed_if.so uid < 1000 quiet\naccount     [default=bad success=ok user_unknown=ignore] pam_ldap.so\naccount     required      pam_permit.so\npassword    required      pam_deny.so\n\npassword    requisite     pam_pwquality.so try_first_pass local_users_only retry=3 authtok_type=\npassword    sufficient    pam_unix.so md5 shadow nullok try_first_pass use_authtok\npassword    sufficient    pam_ldap.so use_authtok\npassword    required      pam_deny.so\n\nsession     optional      pam_keyinit.so revoke\nsession     required      pam_limits.so\n-session     optional      pam_systemd.so\nsession     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid\nsession     required      pam_unix.so\nsession     optional      pam_ldap.so\npassword    required      pam_deny.so\n\t\nnslcd: [e2a9e3] DEBUG: connection from pid=4867 uid=0 gid=0\nnslcd: [e2a9e3] <passwd=\"ldapuser\"> DEBUG: myldap_search(base=\"ou=users,dc=company,dc=org\", filter=\"(&(objectClass=posixAccount)(uid=ldapuser))\")\nnslcd: [e2a9e3] <passwd=\"ldapuser\"> DEBUG: ldap_result(): cn=ldapuser,ou=users,dc=company,dc=org\nnslcd: [e2a9e3] <passwd=\"ldapuser\"> DEBUG: ldap_result(): end of results (1 total)\nnslcd: [45e146] DEBUG: connection from pid=4867 uid=0 gid=0\nnslcd: [45e146] <passwd=\"ldapuser\"> DEBUG: myldap_search(base=\"ou=users,dc=company,dc=org\", filter=\"(&(objectClass=posixAccount)(uid=ldapuser))\")\nnslcd: [45e146] <passwd=\"ldapuser\"> DEBUG: ldap_result(): cn=ldapuser,ou=users,dc=company,dc=org\nnslcd: [45e146] <passwd=\"ldapuser\"> DEBUG: ldap_result(): end of results (1 total)\nnslcd: [5f007c] DEBUG: connection from pid=4867 uid=0 gid=0\nnslcd: [5f007c] <passwd=\"ldapuser\"> DEBUG: myldap_search(base=\"ou=users,dc=company,dc=org\", filter=\"(&(objectClass=posixAccount)(uid=ldapuser))\")\nnslcd: [5f007c] <passwd=\"ldapuser\"> DEBUG: ldap_result(): cn=ldapuser,ou=users,dc=company,dc=org\nnslcd: [5f007c] <passwd=\"ldapuser\"> DEBUG: ldap_result(): end of results (1 total)\nnslcd: [d062c2] DEBUG: connection from pid=4867 uid=0 gid=0\nnslcd: [d062c2] <passwd=\"ldapuser\"> DEBUG: myldap_search(base=\"ou=users,dc=company,dc=org\", filter=\"(&(objectClass=posixAccount)(uid=ldapuser))\")\nnslcd: [d062c2] <passwd=\"ldapuser\"> DEBUG: ldap_result(): cn=ldapuser,ou=users,dc=company,dc=org\nnslcd: [d062c2] <passwd=\"ldapuser\"> DEBUG: ldap_result(): end of results (1 total)\nnslcd: [200854] DEBUG: connection from pid=4867 uid=0 gid=0\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: nslcd_pam_authc(\"ldapuser\",\"sshd\",\"***\")\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: myldap_search(base=\"ou=users,dc=company,dc=org\", filter=\"(&(objectClass=posixAccount)(uid=ldapuser))\")\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: ldap_result(): cn=ldapuser,ou=users,dc=company,dc=org\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: myldap_search(base=\"cn=ldapuser,ou=users,dc=company,dc=org\", filter=\"(objectClass=*)\")\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: ldap_initialize(ldap://<my_ldap_server_ip>)\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: ldap_set_rebind_proc()\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: ldap_set_option(LDAP_OPT_PROTOCOL_VERSION,3)\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: ldap_set_option(LDAP_OPT_DEREF,0)\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: ldap_set_option(LDAP_OPT_TIMELIMIT,30)\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: ldap_set_option(LDAP_OPT_TIMEOUT,30)\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: ldap_set_option(LDAP_OPT_NETWORK_TIMEOUT,30)\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: ldap_set_option(LDAP_OPT_REFERRALS,LDAP_OPT_ON)\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: ldap_set_option(LDAP_OPT_RESTART,LDAP_OPT_ON)\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: ldap_start_tls_s()\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: set_socket_timeout(30,500000)\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: ldap_simple_bind_s(\"cn=ldapuser,ou=users,dc=company,dc=org\",\"***\") (uri=\"ldap://<my_ldap_server_ip>\")\nnslcd: [200854] <authc=\"ldapuser\"> ldap_result() failed: No such object\nnslcd: [200854] <authc=\"ldapuser\"> cn=ldapuser,ou=users,dc=company,dc=org: lookup failed: No such object\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: set_socket_timeout(15,0)\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: ldap_unbind()\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: myldap_search(base=\"ou=users,dc=company,dc=org\", filter=\"(&(objectClass=shadowAccount)(uid=ldapuser))\")\nnslcd: [200854] <authc=\"ldapuser\"> DEBUG: ldap_result(): end of results (0 total)",
 "title": ""
}
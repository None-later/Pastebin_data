{
 "espireDate": "N",
 "format": "text",
 "jSonReasons": [
  "re_url",
  "lg_en"
 ],
 "key": "2aUajdR4",
 "pasteDate": "Feb 17, 2018, 10:57:53 AM",
 "relevancy": 1.0,
 "relevant": false,
 "text": "#include <amxmodx>\n#include <amxmisc>\n#include <cstrike>\n#include <hamsandwich>\n\n#define PLUGIN\t\"FunMod\"\n#define AUTHOR\t\"cxs\"\n#define VERSION\t\"1.0\"\n\n#define VIP ADMIN_LEVEL_H\n#define EVIP ADMIN_LEVEL_G\n\nnew neviditelnost[ 33 ]\nnew nesmrtelnost[ 33 ]\nnew prevlek[ 33 ]\n\nnew body[ 33 ]\n\nnew peniaze = cs_get_user_money(id)\n\nstatic precache_ct[] = \"models/player/ctskin/ct.mdl\"\nstatic precache_t[] = \"models/player/tskin/t.mdl\"\n\npublic plugin_init()\n{\n\tregister_plugin(PLUGIN, VERSION, AUTHOR)\n\t\n\tRegisterHam(Ham_Killed,\"player\",\"ham_Player_Killed_Pre\")\n\t\n\tregister_clcmd(\"say /menu\", \"herne_menu\")\n\tregister_clcmd(\"say_team /menu\", \"herne_menu\")\n\tregister_clcmd(\"say /shop\", \"herny_obchod_roz\")\n\tregister_clcmd(\"say_team /shop\", \"herny_obchod_roz\")\n}\n\npublic plugin_precache()\n{\n\tprecache_model(precache_ct)\n\tprecache_model(precache_t)\n\tprecache_sound(\"funmod/neviditelnost.wav\")\n\tprecache_sound(\"funmod/nesmrtelnost.wav\")\n\tprecache_sound(\"funmod/konec.wav\")\n\tprecache_sound(\"funmod/prevlek.wav\")\n}\n\n/* ===============================\n* -------------STOCKS--------------\n* ================================*/\n\nstock ChatColor(const id, const input[], any:...) {\n    new count = 1, players[ 32 ];\n    static msg[ 191 ];\n    vformat( msg, 190, input, 3 );\n    replace_all( msg, 190, \"!g\", \"^4\" );\n    replace_all( msg, 190, \"!y\", \"^1\" );\n    replace_all( msg, 190, \"!t\", \"^3\" );\n    if( id ) players[ 0 ] = id; else get_players( players, count, \"ch\" ) \n    {\n        for( new i = 0; i < count; i++ ) {\n            if( is_user_connected( players[ i ] ) ) {\n                message_begin( MSG_ONE_UNRELIABLE, get_user_msgid(\"SayText\"), _, players[ i ] );\n                write_byte( players[ i ] );\n                write_string( msg );\n                message_end( );\n            }\n        }\n    }\n}\n\npublic ham_Player_Killed_Pre( iVictim, iKiller, iShouldGib )\n{\n    if( !is_user_connected( iVictim ) || iKiller == iVictim ) \n        return HAM_IGNORED;\n \n    if( get_user_flags( iKiller ) & VIP && is_user_alive( iKiller ) ) {\n        cs_set_user_money( iKiller, cs_get_user_money( iKiller ) + 600 );\n        body[ iKiller ] += 2;\n        ChatColor( iKiller, \"^3+600 dollarov za zabitie protivnika !\" );\n        ChatColor( iKiller, \"^3+2 body za za zabitie protivnika !\" );\n    } \n    else if( get_user_flags( iKiller ) & EVIP && is_user_alive( iKiller ) ) {\n        cs_set_user_money( iKiller, cs_get_user_money( iKiller ) + 1000 );\n        body[ iKiller ] += 3;\n        ChatColor( iKiller, \"^3+1000 dollarov za zabitie protivnika !\" );\n        ChatColor( iKiller, \"^3+3 body za za zabitie protivnika !\" );\n    } \n    else if( is_user_alive( iKiller ) ) {\n        cs_set_user_money( iKiller,cs_get_user_money( iKiller ) + 100 );\n        body[ iKiller ] += 1;\n        ChatColor( iKiller, \"^3+100 dollarov za zabitie protivnika !\" );\n        ChatColor( iKiller, \"^3+1 bod za za zabitie protivnika !\" );\n    }\n    return HAM_IGNORED;\n}\n\npublic player_spawn(id)\n{\n\tChatColor(id, \"^3Vitaj na servery od WWW.XXXX.SK !\")\n\tChatColor(id, \"^3Nezabudni navstivit aj nasu webstranku WWW.XXXX.SK !\")\n\tbody[id] = 10\n\tneviditelnost[id] = 0\n\tnesmrtelnost[id] = 0\n\tprevlek[id] = 0\n\therne_menu(id)\n}\n\n/* ===============================\n* -------------MENU--------------\n* ================================*/\n\npublic herne_menu(id)\n{\n\tnew m1 = menu_create(\"\\yHerne menu \\r( \\d/menu \\r)\", \"herne_menu_handler\")\n\t\n\tmenu_additem(m1, \"Herny obchod\", \"1\", 0)\n\tmenu_additem(m1, \"Skiny zbrani \\d[\\yVIP\\d]\", \"2\", 0)\n\tmenu_additem(m1, \"Moje statistiky\", \"3\", 0)\n\tmenu_additem(m1, \"Top 15\", \"4\", 0)\n\tmenu_additem(m1, \"Zmenaren^n\", \"5\", 0)\n\tmenu_setprop(m1, MPROP_EXIT, \"Koniec\")\n\tmenu_display(id, m1)\n}\n\npublic herne_menu_handler(id, menu, item)\n{\n\tif(item = MENU_EXIT)\n\t{\n\t\tmenu_destroy(menu)\n\t\treturn 0;\n\t}\n\tswitch(item)\n\t{\n\t\tcase 1:\n\t\t{\n\t\t\therny_obchod_roz(id)\n\t\t}\n\t\tcase 2:\n\t\t{\n\t\t\tclient_cmd(id, \"say /skins\")\n\t\t}\n\t\tcase 3:\n\t\t{\n\t\t\tclient_cmd(id, \"say /rank\")\n\t\t}\n\t\tcase 4:\n\t\t{\n\t\t\tclient_cmd(id, \"say /top15\")\n\t\t}\n\t\tcase 5:\n\t\t{\n\t\t\therna_zmenaren(id)\n\t\t}\n\t}\n\treturn PLUGIN_HANDLED;\n}\n\n/* ===============================\n* ------------OBCHODY------------\n* ================================*/\n\npublic herny_obchod_roz(id)\n{\n\tnew m = menu_create(\"Herny obchod ( /shop )\", \"herny_obchod_roz_handler\")\n\t\n\tmenu_additem(m, \"Obchod penazi\", \"1\", 0)\n\tmeun_additem(m, \"Obchod bodov^n^n^n\", \"2\", 0)\n\tmenu_additem(m, \"Vratit sa\", \"3\", 0)\n\tmenu_display(id, m)\n}\n\npublic herny_obchod_roz_handler(id,menu,item)\n{\n\tswitch(item)\n\t{\n\t\tcase 1:\n\t\t{\n\t\t\therny_obchod(id)\n\t\t}\n\t\tcase 2:\n\t\t{\n\t\t\therny_obchod_body(id)\n\t\t}\n\t\tcase 3:\n\t\t{\n\t\t\therne_menu(id)\n\t\t}\n\t}\n\treturn PLUGIN_HANDLED;\n}\n\npublic herny_obchod(id)\n{\n\tnew m2 = menu_create(\"\\yHerny obchod [Peniaze] \\r( \\d/shop \\r)\", \"herny_obchod_handler\")\n\t\n\tmenu_additem(m2,(peniaze[id]>=5000) ? \"+100 Zivotov \\w( \\d5000$ \\w)\" : \"+100 Zivotov \\w( \\d5000$ \\w)\", \"1\", 0)\n\tmenu_additem(m2,(peniaze[id]>=2000) ? \"Granaty \\w(\\dHE+2FLASH+SMOKE\\w) \\w( \\d2000$ \\w)\" : \"Granaty \\w(\\dHE+2FLASH+SMOKE\\w) \\w( \\d2000$ \\w)\", \"2\", 0)\n\tmenu_additem(m2,(peniaze[id]>=6000) ? \"Ticha chodza \\w( \\d6000$ \\w)\" : \"Ticha chodza \\w( \\d6000$ \\w)\", \"3\", 0)\n\tmenu_additem(m2,(peniaze[id]>=4000) ? \"Gravitacia \\w( \\d4000$ \\w)\" : \"Gravitacia \\w( \\d4000$ \\w)\", \"4\", 0)\n\tmenu_additem(m2,(peniaze[id]>=7000) ? \"Rychlost \\w( \\d7000$ \\w)^n\" : \"Rychlost \\w( \\d7000$ \\w)^n\", \"5\", 0)\n\tmenu_additem(m2, \"Vratit sa\", \"6\", 0)\n\tmenu_display(id,m2)\n}\n\npublic herny_obchod_handler(id,menu,item)\n{\n\tswitch(item)\n\t{\n\t\tcase 1:\n\t\t{\n\t\t\tif(peniaze[id] >= 5000)\n\t\t\t{\n\t\t\t\tcs_set_user_money(id,peniaze[id] - 5000)\n\t\t\t\tChatColor(id, \"!g[!yFunMod!g] Kupil si si +100 Zivotov !\")\n\t\t\t\tset_user_health(id,100)\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tChatColor(id, \"!gNemas dostatok penazi !\")\n\t\t}\n\t\tcase 2:\n\t\t{\n\t\t\tif(peniaze[id] >= 2000)\n\t\t\t{\n\t\t\t\tcs_set_user_money(id,peniaze[id] - 2000)\n\t\t\t\tChatColor(id, \"!g[!yFunMod!g] Kupil si si granaty !\")\n\t\t\t\tgive_item(id, \"weapon_hegrenade\")\n\t\t\t\tgive_item(id, \"weapon_flashbang\")\n\t\t\t\tgive_item(id, \"weapon_flashbang\")\n\t\t\t\tgive_item(id, \"weapon_smokegrenade\")\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tChatColor(id, \"!gNemas dostatok penazi !\")\n\t\t}\n\t\tcase 3:\n\t\t{\n\t\t\tif(peniaze[id] >= 6000)\n\t\t\t{\n\t\t\t\tcs_set_user_money(id,peniaze[id] - 6000)\n\t\t\t\tChatColor(id, \"!g[!yFunMod!g] Kupil si si tichu chodzu !\")\n\t\t\t\tset_user_footsteps(id, 1)\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tChatColor(id, \"!gNemas dostatok penazi !\")\n\t\t}\n\t\tcase 4:\n\t\t{\n\t\t\tif(peniaze[id] >= 4000)\n\t\t\t{\n\t\t\t\tcs_set_user_money(id,peniaze[id] - 4000)\n\t\t\t\tChatColor(id, \"!g[!yFunMod!g] Kupil si si gravitaciu !\")\n\t\t\t\tset_user_gravity(id, 0.4)\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tChatColor(id, \"!gNemas dostatok penazi !\")\n\t\t}\n\t\tcase 5:\n\t\t{\n\t\t\tif(peniaze[id] >= 7000)\n\t\t\t{\n\t\t\t\tcs_set_user_money(id,peniaze[id] - 7000)\n\t\t\t\tChatColor(id, \"!g[!yFunMod!g] Kupil si si rychlost !\")\n\t\t\t\tset_user_maxspeed(id, 1000.0)\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tChatColor(id, \"!gNemas dostatok penazi !\")\n\t\t}\n\t\tcase 6:\n\t\t{\n\t\t\therne_menu(id)\n\t\t}\n\t}\n\treturn PLUGIN_HANDLED;\n}\n\npublic herny_obchod_body(id)\n{\n\tChatColor(id, \"Tvoje body : ^3%s\", body[id])\n\t\n\tnew m3 = menu_create(\"\\yHerny obchod [Body] \\r( \\d/shop \\r)\", \"herny_obchod_body_handler\")\n\t\n\tmenu_additem(m3, \"Neviditelnost (7sek.) \\w( \\d35 bodov \\w) \\y[EVIP]\", \"1\", EVIP)\n\tmenu_additem(m3, \"Nesmrtelnost (5sek.) \\w( \\d40 bodov \\w) \\y[EVIP]\", \"2\", EVIP)\n\tif(get_user_team(id) == 1) { menu_additem(m3, \"Prevlek za CT (12sek.) \\w( \\d30 bodov \\w) \\y[EVIP]\", \"3\", EVIP) } else if(get_user_team(id) == 2) { menu_additem(m3, \"Prevlek za T (12sek.) \\w( \\d30 bodov \\w) \\y[EVIP]\", \"3\", EVIP) }\n\tmenu_additem(m3, \"Vratit sa\", \"4\", 0)\n\tmenu_display(id,m3)\n}\n\npublic herny_obchod_body_handler(id,menu,item)\n{\n\tswitch(item)\n\t{\n\t\tcase 1:\n\t\t{\n\t\t\tif(body >= 35)\n\t\t\t{\n\t\t\t\tset_user_rendering(id, kRenderFxNone, 0,0,0, kRenderTransAlpha, 0)\n\t\t\t\temit_sound(id, \"funmod/neviditelnost.wav\", 1.0, 1.0, 0, 100)\n\t\t\t\tset_task(7.0, \"task_neviditelnost\", id)\n\t\t\t\tneviditelnost[id] = 1\n\t\t\t\tChatColor(id, \"!g[!yFunMod!g] Kupil si si neviditelnost !\")\n\t\t\t} else\n\t\t\t{\n\t\t\t\tChatColor(id, \"^3Nemas dostatok bodov !\")\n\t\t\t}\n\t\t}\n\t\tcase 2:\n\t\t{\n\t\t\tif(body >= 40)\n\t\t\t{\n\t\t\t\tset_user_godmode(id, 1)\n\t\t\t\temit_sound(id, \"funmod/nesmrtelnost.wav\", 1.0, 1.0, 0, 100)\n\t\t\t\tset_task(6.0, \"task_nesmrtelnost\", id)\n\t\t\t\tnesmrtelnost[id] = 1\n\t\t\t\tChatColor(id, \"!g[!yFunMod!g] Kupil si si nesmrtelnost !\")\n\t\t\t} else\n\t\t\t{\n\t\t\t\tChatColor(id, \"^3Nemas dostatok bodov !\")\n\t\t\t}\n\t\t}\n\t\tcase 3:\n\t\t{\n\t\t\tif(body >= 30)\n\t\t\t{\n\t\t\t\tif(get_user_team(id) == 1)\n\t\t\t\t{\n\t\t\t\t\tcs_set_user_model(id, precache_ct)\n\t\t\t\t\temit_sound(id, \"funmod/prevlek.wav\", 1.0, 1.0, 0, 100)\n\t\t\t\t\tset_task(12.0, \"task_prevlek\", id)\n\t\t\t\t\tprevlek[id] = 1\n\t\t\t\t\tChatColor(id, \"!g[!yFunMod!g] Kupil si si prevlek za CT !\")\n\t\t\t\t} else if(get_user_team(id) == 2)\n\t\t\t\t{\n\t\t\t\t\tcs_set_user_model(id, precache_t)\n\t\t\t\t\temit_sound(id, \"funmod/prevlek.wav\", 1.0, 1.0, 0, 100)\n\t\t\t\t\tset_task(12.0, \"task_prevlek\", id)\n\t\t\t\t\tprevlek[id] = 1\n\t\t\t\t\tChatColor(id, \"!g[!yFunMod!g] Kupil si si prevlek za T !\")\n\t\t\t\t}\n\t\t\t} else\n\t\t\t{\n\t\t\t\tChatColor(id, \"^3Nemas dostatok bodov !\")\n\t\t\t}\n\t\t}\n\t\tcase 4:\n\t\t{\n\t\t\therne_menu(id)\n\t\t}\n\t}\n\treturn PLUGIN_HANDLED;\n}\n\n/* ===============================\n* -------------TASKY--------------\n* ================================*/\n\npublic task_neviditelnost(id)\n{\n\tset_hudmessage(255, 0, 0, -1.0, -1.0)\n\tshow_hudmessage(id, \"Skoncila ti neviditelnost\")\n\tset_user_rendering(id, kRednerNormal)\n\temit_sound(id, \"funmod/konec.wav\", 1.0, 1.0, 0, 100)\n\tneviditelnost[id] = 0\n}\n\npublic task_nesmrtelnost(id)\n{\n\tset_hudmessage(255, 0, 0, -1.0, -1.0)\n\tshow_hudmessage(id, \"Skoncila ti nesmrtelnost !\")\n\tset_user_godmode(id, 0)\n\temit_sound(id, \"funmod/konec.wav\", 1.0, 1.0, 0, 100)\n\tnesmrtelnost[id] = 0\n}\n\npublic task_prevlek(id)\n{\n\tif(get_user_team(id) == 1)\n\t{\n\t\tcs_set_user_model(id, precache_t)\n\t} else if(get_user_team(id) == 2)\n\t{\n\t\tcs_set_user_model(id, precache_ct)\n\t}\n\t\n\tset_hudmessage(255, 0, 0, -1.0, -1.0)\n\tshow_hudmessage(id, \"Skoncil ti prevlek !\")\n\temit_sound(id, \"funmod/konec.wav\", 1.0, 1.0, 0, 100)\n\tprevlek[id] = 0\n}",
 "title": ""
}